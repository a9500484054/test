document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("login-form"),e=document.querySelector("input[name='firstname']"),t=document.querySelector("input[name='lastname']"),r=document.querySelector("input[name='email']"),o=document.querySelector("input[name='password']"),a=document.querySelector("input[name='confirmpassword']"),n=document.querySelector(".login-form__login"),d=document.querySelector(".overlay"),l=document.querySelectorAll(".login-form__row");l.forEach(e=>e.style.opacity="0");for(let e=0;e<l.length;e++)setTimeout(()=>{l[e].style.opacity="1"},e+"000");e.addEventListener("input",function(){e.value?(e.parentNode.classList.add("ok"),e.classList.remove("error")):(e.parentNode.classList.remove("ok"),e.classList.add("error"))}),t.addEventListener("input",function(){t.value?(t.parentNode.classList.add("ok"),t.classList.remove("error")):(t.parentNode.classList.remove("ok"),t.classList.add("error"))}),r.addEventListener("input",function(){/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(r.value)?(r.parentNode.classList.add("ok"),r.classList.remove("error")):(r.parentNode.classList.remove("ok"),r.classList.add("error"))}),o.addEventListener("input",function(){/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}$/.test(o.value)?(o.parentNode.classList.add("ok"),o.parentNode.classList.remove("error-text--pass"),o.classList.remove("error")):(o.parentNode.classList.remove("ok"),o.parentNode.classList.add("error-text--pass"),o.classList.add("error"))}),a.addEventListener("input",function(){a.value===o.value?(a.parentNode.classList.add("ok"),a.parentNode.classList.remove("error-text--confirm"),a.classList.remove("error")):(a.parentNode.classList.remove("ok"),a.parentNode.classList.add("error-text--confirm"),a.classList.add("error"))});var i=e=>new FormData(e);s.addEventListener("submit",function(e){e.preventDefault(),i(s);let t=Array.from(i(s).entries()),r=0;t.forEach(e=>{1===e.indexOf("")&&r++}),0===r?(n.classList.remove("error-text--send-filling"),null===document.querySelector(".error")?(n.classList.remove("error-text--send"),s.reset(),d.style.display="block",console.log("Отправка!"),console.log(JSON.parse(JSON.stringify(t)))):(n.classList.add("error-text--send"),console.log("не отправлено!"))):(n.classList.add("error-text--send-filling"),console.log("не отправлено!"))})});